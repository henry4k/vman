include_rules

CFLAGS += -I../third-party/inih
CFLAGS += -I../third-party/tinythreadpp/source
CFLAGS += $(WARNINGS)

CXXFLAGS += --std=c++11
CXXFLAGS += -fno-rtti -fno-exceptions

: |> !cflags |>


: foreach *.cpp |> !cxx |> %B.o {objects}


LDFLAGS += $(INI_A) $(TINYTHREADPP_A)
ifeq (@(SHARED),y)
    : {objects} | $(INI_A) $(TINYTHREADPP_A) |> !ldcxx-shared |> @(NAME)
else
    : {objects} | $(INI_A) $(TINYTHREADPP_A) |> !ar |> @(NAME)
endif
